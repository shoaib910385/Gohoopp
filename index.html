<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Waifu Catcher</title>

<!-- Telegram WebApp -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        neon: "#00F2FF",
        purple: "#BF00FF",
        gold: "#FFD36A",
        danger: "#FF0055"
      }
    }
  }
}
</script>

<style>
body {
  font-family: 'Inter', sans-serif;
  background:
    radial-gradient(circle at top, rgba(191,0,255,.15), transparent 40%),
    radial-gradient(circle at bottom, #050014, #02010a 60%);
}

/* Glass UI */
.glass {
  background: rgba(255,255,255,.06);
  backdrop-filter: blur(16px);
}

/* Gradient Border */
.rim {
  position: relative;
}
.rim::before {
  content:"";
  position:absolute;
  inset:0;
  border-radius:18px;
  padding:1px;
  background: linear-gradient(135deg, #bf00ff, #00f2ff, #ffd36a);
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;
  pointer-events:none;
}

/* Title Font */
.title {
  font-family: 'Orbitron', sans-serif;
  letter-spacing: .12em;
}
</style>
</head>

<body class="text-white">

<main class="max-w-[420px] mx-auto p-4 space-y-4">

<!-- Header -->
<header class="text-center title text-sm opacity-90">
  WAIFU CATCHER âœ¨
</header>

<!-- Profile Card -->
<section class="glass rim rounded-xl p-4 flex gap-4 items-center">
  <img id="avatar"
       class="w-16 h-16 rounded-full bg-purple-600"
       src=""
       alt="avatar" />

  <div>
    <div id="name" class="title text-lg">Loading...</div>
    <div id="username" class="text-xs opacity-60">@username</div>
    <div id="userid" class="text-xs opacity-40">ID: â€”</div>
  </div>
</section>

<!-- Stats -->
<section class="grid grid-cols-3 gap-3">
  <div class="glass rim rounded-lg p-3 text-center">
    <div class="text-neon font-semibold text-lg" id="waifus">0</div>
    <div class="text-xs opacity-60">WAIFUS</div>
  </div>
  <div class="glass rim rounded-lg p-3 text-center">
    <div class="text-purple font-semibold text-lg">0</div>
    <div class="text-xs opacity-60">RARITY</div>
  </div>
  <div class="glass rim rounded-lg p-3 text-center">
    <div class="text-gold font-semibold text-lg">#â€”</div>
    <div class="text-xs opacity-60">RANK</div>
  </div>
</section>

<!-- Action -->
<button id="catchBtn"
  class="w-full py-4 rounded-xl font-semibold text-lg
         bg-gradient-to-r from-purple to-neon">
  ðŸŽ¯ Catch Waifu
</button>

<!-- Activity -->
<section class="glass rim rounded-xl p-4">
  <div class="title text-xs opacity-70">ACTIVITY</div>
  <div class="text-center opacity-40 mt-4">
    No activity yet
  </div>
</section>

<footer class="text-center text-xs opacity-30 pt-4">
  Waifu Catcher Bot â€¢ Telegram Mini App
</footer>

</main>

<script>
/* ================= TELEGRAM INIT ================= */

const tg = window.Telegram.WebApp;
tg.expand();
tg.ready();

const user = tg.initDataUnsafe?.user;

if (!user) {
  alert("âŒ Please open this inside Telegram");
}

/* ================= USER DATA ================= */

document.getElementById("name").innerText =
  `${user.first_name || ""} ${user.last_name || ""}`;

document.getElementById("username").innerText =
  user.username ? `@${user.username}` : "No username";

document.getElementById("userid").innerText =
  `ID: ${user.id}`;

if (user.photo_url) {
  document.getElementById("avatar").src = user.photo_url;
}

/* ================= ACTION ================= */

document.getElementById("catchBtn").onclick = () => {
  tg.HapticFeedback.impactOccurred("medium");

  // Send data back to bot
  tg.sendData(JSON.stringify({
    action: "catch_waifu",
    user_id: user.id
  }));
};
</script>

</body>
</html
