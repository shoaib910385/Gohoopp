<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />

<!-- ðŸš« Disable zoom (important for Telegram Mini Apps) -->
<meta name="viewport"
  content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<title>Waifu Catcher</title>

<!-- Telegram SDK -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        aurora1: "#a855f7",
        aurora2: "#7c3aed",
        aurora3: "#5b21b6",
        deep: "#020014",
        gold: "#facc15"
      },
      boxShadow: {
        glow: "0 0 28px rgba(168,85,247,.55)"
      }
    }
  }
}
</script>

<style>
/* ================= BASE ================= */
html, body {
  width:100%;
  height:100%;
  overflow:hidden;
  touch-action: manipulation;
}

body{
  font-family:'Inter',sans-serif;
  background:
    radial-gradient(circle at 20% 15%, rgba(168,85,247,.35), transparent 45%),
    radial-gradient(circle at 80% 85%, rgba(124,58,237,.25), transparent 45%),
    linear-gradient(180deg,#04001a,#020014);
  color:white;
}

/* ================= GALAXY STARS ================= */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background-image:
    radial-gradient(1px 1px at 10% 20%, #fff, transparent),
    radial-gradient(1px 1px at 40% 60%, #fff, transparent),
    radial-gradient(1px 1px at 70% 30%, #fff, transparent),
    radial-gradient(1px 1px at 85% 80%, #fff, transparent);
  opacity:.18;
  animation: stars 45s linear infinite;
  pointer-events:none;
}

@keyframes stars {
  from { transform: translateY(0); }
  to   { transform: translateY(-320px); }
}

/* ================= GLASS ================= */
.glass{
  background:rgba(255,255,255,.06);
  backdrop-filter:blur(18px);
}

.rim{
  position:relative;
}
.rim::before{
  content:"";
  position:absolute;
  inset:0;
  padding:1px;
  border-radius:18px;
  background:linear-gradient(135deg,#a855f7,#7c3aed,#facc15);
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;
}

/* ================= TEXT ================= */
.cyber{
  font-family:'Orbitron',sans-serif;
  letter-spacing:.18em;
}

/* ================= LOADER (MILKY WAY SPLIT) ================= */
#loader{
  position:fixed;
  inset:0;
  z-index:9999;
  display:flex;
}

.loader-left,
.loader-right{
  width:50%;
  display:flex;
  justify-content:center;
  align-items:center;
}

.loader-left{
  background:linear-gradient(180deg,#020014,#06002c);
}

.loader-right{
  background:linear-gradient(180deg,#06002c,#020014);
}

.loader-center{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

.loader-title{
  font-family:'Orbitron',sans-serif;
  color:#a855f7;
  font-size:22px;
  text-shadow:0 0 30px #a855f7;
  margin-bottom:18px;
}

.loader-bar{
  width:200px;
  height:4px;
  background:rgba(255,255,255,.15);
  border-radius:20px;
  overflow:hidden;
}

.loader-bar span{
  display:block;
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#a855f7,#7c3aed);
  animation: load 2s linear forwards;
}

@keyframes load {
  to { width:100%; }
}

/* ================= APP ================= */
#app{
  opacity:0;
  transform:scale(.96);
  transition:opacity .9s ease, transform .9s ease;
}

#app.show{
  opacity:1;
  transform:scale(1);
}
</style>
</head>

<body>

<!-- ðŸ”® SPLIT LOADER -->
<div id="loader">
  <div class="loader-left"></div>
  <div class="loader-right"></div>

  <div class="loader-center">
    <div class="loader-title">WAIFU CATCHER</div>
    <div class="loader-bar"><span></span></div>
  </div>
</div>

<!-- ðŸ“± MAIN MINI APP -->
<main id="app" class="max-w-[420px] mx-auto p-4 space-y-5">

<header class="text-center cyber text-sm opacity-80">
  WAIFU CATCHER âœ¨
</header>

<!-- PROFILE -->
<section class="glass rim rounded-xl p-4 relative flex gap-4 items-center">

  <!-- MENU -->
  <div class="absolute top-3 right-4 space-y-1">
    <span class="block w-5 h-[2px] bg-aurora1"></span>
    <span class="block w-5 h-[2px] bg-aurora1"></span>
    <span class="block w-5 h-[2px] bg-aurora1"></span>
  </div>

  <!-- AVATAR -->
  <div class="relative">
    <img id="avatar"
      class="w-16 h-16 rounded-lg object-cover shadow-glow"
      alt="avatar" />
    <div class="absolute inset-0 rounded-lg ring-1 ring-aurora1"></div>
  </div>

  <div>
    <div id="name" class="cyber text-lg">Player</div>
    <div id="username" class="text-xs opacity-60">@user</div>
    <div id="userid" class="text-xs opacity-40">ID: â€”</div>
  </div>
</section>

<!-- STATS -->
<section class="grid grid-cols-3 gap-3">
  <div class="glass rim rounded-lg p-3 text-center">
    <div id="coins" class="text-aurora1 text-lg font-semibold">0</div>
    <div class="text-xs opacity-60">NEXUS</div>
  </div>
  <div class="glass rim rounded-lg p-3 text-center">
    <div id="waifus" class="text-aurora2 text-lg font-semibold">0</div>
    <div class="text-xs opacity-60">WAIFUS</div>
  </div>
  <div class="glass rim rounded-lg p-3 text-center">
    <div id="rank" class="text-gold text-lg font-semibold">#---</div>
    <div class="text-xs opacity-60">RANK</div>
  </div>
</section>

<button id="catch"
  class="w-full py-4 rounded-xl cyber bg-gradient-to-r from-aurora1 to-aurora2 shadow-glow">
  ðŸŽ¯ CATCH WAIFU
</button>

<button id="bonus"
  class="w-full py-4 rounded-xl cyber text-black bg-gradient-to-r from-gold to-yellow-400">
  âœ¨ DAILY BONUS
</button>

<section class="glass rim rounded-xl p-4">
  <div class="cyber text-xs opacity-60">RECENT ACTIVITY</div>
  <div id="activity" class="text-center opacity-40 mt-4">
    No recent activity
  </div>
</section>

<footer class="text-center text-xs opacity-30 pt-4">
  Waifu Catcher â€¢ Galaxy Aurora
</footer>

</main>

<script>
/* ================= TELEGRAM-SAFE INIT ================= */
document.addEventListener("DOMContentLoaded", () => {

  const loader = document.getElementById("loader");
  const app = document.getElementById("app");

  /* ðŸ”¥ FORCE SHOW HOME AFTER 2s (NO DEPENDENCIES) */
  setTimeout(() => {
    loader.remove();
    app.classList.add("show");
  }, 2000);

  /* Telegram (optional, never blocking) */
  if (!window.Telegram || !Telegram.WebApp) return;

  const tg = Telegram.WebApp;
  tg.expand();
  tg.ready();

  setTimeout(() => {
    const user = tg.initDataUnsafe?.user;
    if (!user) return;

    document.getElementById("name").innerText =
      user.first_name || "Player";
    document.getElementById("username").innerText =
      user.username ? "@"+user.username : "No username";
    document.getElementById("userid").innerText =
      "ID: "+user.id;
    if (user.photo_url)
      document.getElementById("avatar").src = user.photo_url;
  }, 400);

});
</script>

</body>
</html>
